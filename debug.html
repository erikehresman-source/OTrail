<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>OTrail Debug</title>
<style>
body { font-family: monospace; background:#111; color:#eee; padding:20px; }
h1 { color:#f66; }
pre { background:#222; padding:10px; border:1px solid #444; }
.ok { color: #6f6; }
.fail { color: #f66; }
</style>
</head>
<body>
<h1>OTrail Debug Report</h1>
<script>
(async () => {
  const files = [
    './index.html',
    './manifest.webmanifest',
    './service-worker.js',
    './icon-152.png',
    './icon-192.png',
    './icon-512.png'
  ];
  const results = [];
  for (let f of files) {
    try {
      const res = await fetch(f+'?v='+Date.now(), {cache:'no-store'});
      results.push(`${f} → ${res.status} ${res.ok ? 'OK' : 'FAIL'}`);
    } catch (err) {
      results.push(`${f} → ERROR ${err}`);
    }
  }

  const div = document.createElement('pre');
  div.innerHTML = results.map(r => r.includes('OK') ?
    `<span class="ok">${r}</span>` : `<span class="fail">${r}</span>`).join('\n');
  document.body.appendChild(div);

  // Extra context
  document.body.insertAdjacentHTML('beforeend', `<h2>Location</h2><pre>${location.href}</pre>`);
  document.body.insertAdjacentHTML('beforeend', `<h2>User Agent</h2><pre>${navigator.userAgent}</pre>`);
})();
</script>
</body>
</html>